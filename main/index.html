<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, maximum-scale=1, user-scalable=no">
  <meta name="theme-color" content="#3a1a86">
  <title>Simple PWA</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/app-icon-144-144.png">
<body>
<nav>
  <h1>WIFI PWA</h1>
</nav>

<div class="container">
  <button onclick="install()">Установить приложение</button>
</div>

<script>
let defferPrompt = null

window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  defferPrompt = e;
})

async function install() {
  if(defferPrompt){
    defferPrompt.prompt()
    
    defferPrompt.userChoice.then(choiceResult => {
      if(choiceResult.outcome === 'accepted'){
        console.log('installed');
      } else{
        console.log('not installed');
      }
    })

    defferPrompt = null
  }
}
</script>
<script src="js/app.js"></script>
</body>
</html>